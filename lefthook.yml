pre-commit:
  commands:
    format-check-and-fix:
      glob: '{*.{md,json,yml,yaml},src/**/*,components/**/*,.github/**/*}'
      run: |
        if ! pnpm format:check > /dev/null 2>&1; then
          echo "❌ Formatting issues found. Running prettier to fix..."
          pnpm format:write
          echo "❌ Formatting was fixed. Please review the changes and try again."
          exit 1
        else
          echo "✅ Code formatting is correct"
        fi
    lint-fix:
      glob: 'src/**/*.{ts,tsx,js,jsx}'
      run: pnpm lint:fix
    lint-check:
      glob: 'src/**/*.{ts,tsx,js,jsx}'
      run: pnpm lint --max-warnings=0
    typecheck:
      glob: 'src/**/*.{ts,tsx,js,jsx}'
      run: pnpm typecheck

pre-push:
  run_serial:
    - name: build
      run: pnpm build
