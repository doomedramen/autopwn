# Redis configuration for AutoPWN testing environment
# Optimized for performance and isolation

# Network configuration
bind 0.0.0.0
port 6379
protected-mode no

# General configuration
daemonize no
pidfile /var/run/redis/redis-server.pid
loglevel warning
logfile ""

# Disable persistence for faster test execution
save ""
stop-writes-on-bgsave-error no
rdbcompression no
rdbchecksum no

# Disable append only file for tests
appendonly no

# Memory management - optimized for test workloads
maxmemory 128mb
maxmemory-policy allkeys-lru

# Slow log - more verbose for debugging
slowlog-log-slower-than 1000
slowlog-max-len 256

# Client connections
timeout 0
tcp-keepalive 60
tcp-backlog 511

# Security
requirepass ""
rename-command FLUSHDB ""
rename-command FLUSHALL ""
rename-command KEYS ""

# Memory optimization for testing
hash-max-ziplist-entries 64
hash-max-ziplist-value 32
list-max-ziplist-size -2
list-compress-depth 0
set-max-intset-entries 64
zset-max-ziplist-entries 32
zset-max-ziplist-value 32

# Pub/Sub
notify-keyspace-events ""

# Test-specific optimizations
always-show-logo no
stop-writes-on-bgsave-error no
databases 1